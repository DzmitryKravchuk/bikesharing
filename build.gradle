plugins {
    //  the 'base' plugin allows to clean the root project and provide the base tasks
    id 'base'
    id 'checkstyle'
    id 'org.springframework.boot' version '2.5.1' apply false
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
    id 'java'
}

allprojects {
    apply plugin: 'checkstyle'

    checkstyle {
        toolVersion = '8.29'
        ignoreFailures = false
        maxWarnings = 0
        configDirectory = file("$rootProject.projectDir/config/checkstyle")
    }
}

subprojects {
    apply plugin: 'java'

    group = 'com.godeltech'
    version = '0.0.1-SNAPSHOT'
    sourceCompatibility = JavaVersion.VERSION_11

    repositories {
        mavenCentral()
    }

    ext {
        springfoxVersion = '2.9.2'
        swaggerParserVersion = '2.0.23'

        apply plugin: 'io.spring.dependency-management'
        dependencies {
//      Lombok
            compileOnly 'org.projectlombok:lombok'
            annotationProcessor 'org.projectlombok:lombok'
            testCompileOnly "org.projectlombok:lombok"
            testAnnotationProcessor "org.projectlombok:lombok"
        }

    }
}